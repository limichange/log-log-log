(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{417:function(e,r,t){"use strict";t.r(r);var a=t(43),n=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"浏览器渲染原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染原理"}},[e._v("#")]),e._v(" 浏览器渲染原理")]),e._v(" "),t("h2",{attrs:{id:"浏览器会解析三个东西"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浏览器会解析三个东西"}},[e._v("#")]),e._v(" 浏览器会解析三个东西")]),e._v(" "),t("p",[e._v("一个是 HTML/SVG/XHTML,会产生一个 DOM Tree。\nCSS，解析 CSS 会产生 CSS 规则树。\nJavascript，脚本，主要是通过 DOM API 和 CSSOM API 来操作 DOM Tree 和 CSS Rule Tree.")]),e._v(" "),t("h2",{attrs:{id:"解析完成后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析完成后"}},[e._v("#")]),e._v(" 解析完成后")]),e._v(" "),t("p",[e._v("浏览器引擎会通过 DOM Tree 和 CSS Rule Tree 来构造 Rendering Tree.")]),e._v(" "),t("p",[e._v("Rendering Tree 渲染树并不等同于 DOM 树，因为一些像 Header 或 display:none 的东西就没必要放在渲染树中了")]),e._v(" "),t("p",[e._v("CSS 的 Rule Tree 主要是为了完成匹配并把 CSS Rule 附加上 Rendering Tree 上的每个 Element。也就是 DOM 结点。也就是所谓的 Frame.")]),e._v(" "),t("p",[e._v("然后，计算每个 Frame（也就是每个 Element）的位置，这又叫 layout 和 reflow 过程。")]),e._v(" "),t("p",[e._v("建立 CSS Rule Tree 是需要比照着 DOM Tree 来的")]),e._v(" "),t("h2",{attrs:{id:"渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#渲染"}},[e._v("#")]),e._v(" 渲染")]),e._v(" "),t("ul",[t("li",[e._v("计算 CSS 样式")]),e._v(" "),t("li",[e._v("构建 Render Tree")]),e._v(" "),t("li",[e._v("Layout – 定位坐标和大小，是否换行，各种 position, overflow, z-index 属性 ……")]),e._v(" "),t("li",[e._v("正式开画")])]),e._v(" "),t("p",[e._v("Repaint ——屏幕的一部分要重画，比如某个 CSS 的背景色变了。但是元素的几何尺寸没有变。\nReflow ——意味着元件的几何尺寸变了，我们需要重新验证并计算 Render Tree。")]),e._v(" "),t("p",[e._v("Reflow 的成本比 Repaint 的成本高得多的多。")]),e._v(" "),t("p",[e._v("display:none 会触发 reflow，而 visibility:hidden 只会触发 repaint，因为没有发现位置变化。")]),e._v(" "),t("h2",{attrs:{id:"links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[e._v("#")]),e._v(" links")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1004695",target:"_blank",rel:"noopener noreferrer"}},[e._v("浏览器渲染原理"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=n.exports}}]);