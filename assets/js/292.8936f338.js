(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{636:function(e,t,a){"use strict";a.r(t);var r=a(43),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue-js-contributing-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-js-contributing-guide"}},[e._v("#")]),e._v(" Vue.js Contributing Guide")]),e._v(" "),a("p",[e._v("Hi! I'm really excited that you are interested in contributing to Vue.js. Before submitting your contribution, please make sure to take a moment and read through the following guidelines:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/.github/CODE_OF_CONDUCT.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Code of Conduct"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"#issue-reporting-guidelines"}},[e._v("Issue Reporting Guidelines")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#pull-request-guidelines"}},[e._v("Pull Request Guidelines")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#development-setup"}},[e._v("Development Setup")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#project-structure"}},[e._v("Project Structure")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#contributing-tests"}},[e._v("Contributing Tests")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#financial-contribution"}},[e._v("Financial Contribution")])])]),e._v(" "),a("h2",{attrs:{id:"issue-reporting-guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#issue-reporting-guidelines"}},[e._v("#")]),e._v(" Issue Reporting Guidelines")]),e._v(" "),a("ul",[a("li",[e._v("Always use "),a("a",{attrs:{href:"https://new-issue.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://new-issue.vuejs.org/"),a("OutboundLink")],1),e._v(" to create new issues.")])]),e._v(" "),a("h2",{attrs:{id:"pull-request-guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pull-request-guidelines"}},[e._v("#")]),e._v(" Pull Request Guidelines")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Checkout a topic branch from a base branch, e.g. "),a("code",[e._v("master")]),e._v(", and merge back against that branch.")])]),e._v(" "),a("li",[a("p",[e._v("If adding a new feature:")]),e._v(" "),a("ul",[a("li",[e._v("Add accompanying test case.")]),e._v(" "),a("li",[e._v("Provide a convincing reason to add this feature. Ideally, you should open a suggestion issue first and have it approved before working on it.")])])]),e._v(" "),a("li",[a("p",[e._v("If fixing bug:")]),e._v(" "),a("ul",[a("li",[e._v("If you are resolving a special issue, add "),a("code",[e._v("(fix #xxxx[,#xxxx])")]),e._v(" (#xxxx is the issue id) in your PR title for a better release log, e.g. "),a("code",[e._v("update entities encoding/decoding (fix #3899)")]),e._v(".")]),e._v(" "),a("li",[e._v("Provide a detailed description of the bug in the PR. Live demo preferred.")]),e._v(" "),a("li",[e._v("Add appropriate test coverage if applicable. You can check the coverage of your code addition by running "),a("code",[e._v("yarn test --coverage")]),e._v(".")])])]),e._v(" "),a("li",[a("p",[e._v("It's OK to have multiple small commits as you work on the PR - GitHub can automatically squash them before merging.")])]),e._v(" "),a("li",[a("p",[e._v("Make sure tests pass!")])]),e._v(" "),a("li",[a("p",[e._v("Commit messages must follow the "),a("RouterLink",{attrs:{to:"/vue3/commit-convention.html"}},[e._v("commit message convention")]),e._v(" so that changelogs can be automatically generated. Commit messages are automatically validated before commit (by invoking "),a("a",{attrs:{href:"https://git-scm.com/docs/githooks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git Hooks"),a("OutboundLink")],1),e._v(" via "),a("a",{attrs:{href:"https://github.com/yyx990803/yorkie",target:"_blank",rel:"noopener noreferrer"}},[e._v("yorkie"),a("OutboundLink")],1),e._v(").")],1)]),e._v(" "),a("li",[a("p",[e._v("No need to worry about code style as long as you have installed the dev dependencies - modified files are automatically formatted with Prettier on commit (by invoking "),a("a",{attrs:{href:"https://git-scm.com/docs/githooks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git Hooks"),a("OutboundLink")],1),e._v(" via "),a("a",{attrs:{href:"https://github.com/yyx990803/yorkie",target:"_blank",rel:"noopener noreferrer"}},[e._v("yorkie"),a("OutboundLink")],1),e._v(").")])])]),e._v(" "),a("h2",{attrs:{id:"development-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#development-setup"}},[e._v("#")]),e._v(" Development Setup")]),e._v(" "),a("p",[e._v("You will need "),a("a",{attrs:{href:"http://nodejs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),a("OutboundLink")],1),e._v(" "),a("strong",[e._v("version 10+")]),e._v(", and "),a("a",{attrs:{href:"https://yarnpkg.com/en/docs/install",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yarn"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("After cloning the repo, run:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# install the dependencies of the project")]),e._v("\n")])])]),a("p",[e._v("A high level overview of tools used:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TypeScript"),a("OutboundLink")],1),e._v(" as the development language")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://rollupjs.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rollup"),a("OutboundLink")],1),e._v(" for bundling")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jest"),a("OutboundLink")],1),e._v(" for unit testing")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Prettier"),a("OutboundLink")],1),e._v(" for code formatting")])]),e._v(" "),a("h2",{attrs:{id:"scripts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scripts"}},[e._v("#")]),e._v(" Scripts")]),e._v(" "),a("h3",{attrs:{id:"yarn-build"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn-build"}},[e._v("#")]),e._v(" "),a("code",[e._v("yarn build")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("build")]),e._v(" script builds all public packages (packages without "),a("code",[e._v("private: true")]),e._v(" in their "),a("code",[e._v("package.json")]),e._v(").")]),e._v(" "),a("p",[e._v("Packages to build can be specified with fuzzy matching:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# build runtime-core only")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build runtime-core\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# build all packages matching "runtime"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build runtime --all\n")])])]),a("h4",{attrs:{id:"build-formats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-formats"}},[e._v("#")]),e._v(" Build Formats")]),e._v(" "),a("p",[e._v("By default, each package will be built in multiple distribution formats as specified in the "),a("code",[e._v("buildOptions.formats")]),e._v(" field in its "),a("code",[e._v("package.json")]),e._v(". These can be overwritten via the "),a("code",[e._v("-f")]),e._v(" flag. The following formats are supported:")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[e._v("global")])]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("For direct use via "),a("code",[e._v("<script>")]),e._v(" in the browser. The global variable exposed is specified via the "),a("code",[e._v("buildOptions.name")]),e._v(" field in a package's "),a("code",[e._v("package.json")]),e._v(".")]),e._v(" "),a("li",[e._v("Note: global builds are not "),a("a",{attrs:{href:"https://github.com/umdjs/umd",target:"_blank",rel:"noopener noreferrer"}},[e._v("UMD"),a("OutboundLink")],1),e._v(" builds. Instead they are built as "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE",target:"_blank",rel:"noopener noreferrer"}},[e._v("IIFEs"),a("OutboundLink")],1),e._v(".")])])]),e._v(" "),a("li",[a("p",[a("strong",[a("code",[e._v("esm-bundler")])]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("Leaves prod/dev branches with "),a("code",[e._v("process.env.NODE_ENV")]),e._v(" guards (to be replaced by bundler)")]),e._v(" "),a("li",[e._v("Does not ship a minified build (to be done together with the rest of the code after bundling)")]),e._v(" "),a("li",[e._v("For use with bundlers like "),a("code",[e._v("webpack")]),e._v(", "),a("code",[e._v("rollup")]),e._v(" and "),a("code",[e._v("parcel")]),e._v(".")]),e._v(" "),a("li",[e._v("Imports dependencies (e.g. "),a("code",[e._v("@vue/runtime-core")]),e._v(", "),a("code",[e._v("@vue/runtime-compiler")]),e._v(")\n"),a("ul",[a("li",[e._v("Imported dependencies are also "),a("code",[e._v("esm-bundler")]),e._v(" builds and will in turn import their dependencies (e.g. "),a("code",[e._v("@vue/runtime-core")]),e._v(" imports "),a("code",[e._v("@vue/reactivity")]),e._v(")")]),e._v(" "),a("li",[e._v("This means you "),a("strong",[e._v("can")]),e._v(" install/import these deps without ending up with different instances of these dependencies")])])])])]),e._v(" "),a("li",[a("p",[a("strong",[a("code",[e._v("esm")])]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("For usage via native ES modules imports (in browser via "),a("code",[e._v('<script type="module">')]),e._v(", or via Node.js native ES modules support in the future)")]),e._v(" "),a("li",[e._v("Inlines all dependencies - i.e. it's a single ES module with no imports from other files\n"),a("ul",[a("li",[e._v("This means you "),a("strong",[e._v("must")]),e._v(" import everything from this file and this file only to ensure you are getting the same instance of code.")])])]),e._v(" "),a("li",[e._v("Hard-coded prod/dev branches, and the prod build is pre-minified (you will have to use different paths/aliases for dev/prod)")])])]),e._v(" "),a("li",[a("p",[a("strong",[a("code",[e._v("cjs")])]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("For use in Node.js server-side rendering via "),a("code",[e._v("require()")]),e._v(".")]),e._v(" "),a("li",[e._v("The dev/prod files are pre-built, but are dynamically required based on "),a("code",[e._v("process.env.NODE_ENV")]),e._v(" in "),a("code",[e._v("index.js")]),e._v(", which is the default entry when you do "),a("code",[e._v("require('vue')")]),e._v(".")])])])]),e._v(" "),a("p",[e._v("For example, to build "),a("code",[e._v("runtime-core")]),e._v(" with the global build only:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build runtime-core -f global\n")])])]),a("p",[e._v("Multiple formats can be specified as a comma-separated list:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build runtime-core -f esm,cjs\n")])])]),a("h4",{attrs:{id:"build-with-source-maps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-with-source-maps"}},[e._v("#")]),e._v(" Build with Source Maps")]),e._v(" "),a("p",[e._v("Use the "),a("code",[e._v("--sourcemap")]),e._v(" or "),a("code",[e._v("-s")]),e._v(" flag to build with source maps. Note this will make the build much slower.")]),e._v(" "),a("h4",{attrs:{id:"build-with-type-declarations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-with-type-declarations"}},[e._v("#")]),e._v(" Build with Type Declarations")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("--types")]),e._v(" or "),a("code",[e._v("-t")]),e._v(" flag will generate type declarations during the build and in addition:")]),e._v(" "),a("ul",[a("li",[e._v("Roll the declarations into a single "),a("code",[e._v(".d.ts")]),e._v(" file for each package;")]),e._v(" "),a("li",[e._v("Generate an API report in "),a("code",[e._v("<projectRoot>/temp/<packageName>.api.md")]),e._v(". This report contains potential warnings emitted by "),a("a",{attrs:{href:"https://api-extractor.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("api-extractor"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[e._v("Generate an API model json in "),a("code",[e._v("<projectRoot>/temp/<packageName>.api.json")]),e._v(". This file can be used to generate a Markdown version of the exported APIs.")])]),e._v(" "),a("h3",{attrs:{id:"yarn-dev"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn-dev"}},[e._v("#")]),e._v(" "),a("code",[e._v("yarn dev")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("dev")]),e._v(" script bundles a target package (default: "),a("code",[e._v("vue")]),e._v(") in a specified format (default: "),a("code",[e._v("global")]),e._v(") in dev mode and watches for changes. This is useful when you want to load up a build in an HTML page for quick debugging:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" dev\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" rollup v1.19.4\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" bundles packages/vue/src/index.ts â†’ packages/vue/dist/vue.global.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])])]),a("ul",[a("li",[a("p",[e._v("The "),a("code",[e._v("dev")]),e._v(" script also supports fuzzy match for the target package, but will only match the first package matched.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("dev")]),e._v(" script supports specifying build format via the "),a("code",[e._v("-f")]),e._v(" flag just like the "),a("code",[e._v("build")]),e._v(" script.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("dev")]),e._v(" script also supports the "),a("code",[e._v("-s")]),e._v(" flag for generating source maps, but it will make rebuilds slower.")])])]),e._v(" "),a("h3",{attrs:{id:"yarn-test"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn-test"}},[e._v("#")]),e._v(" "),a("code",[e._v("yarn test")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("yarn test")]),e._v(" script simply calls the "),a("code",[e._v("jest")]),e._v(" binary, so all "),a("a",{attrs:{href:"https://jestjs.io/docs/en/cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jest CLI Options"),a("OutboundLink")],1),e._v(" can be used. Some examples:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run all tests")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run tests in watch mode")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" --watch\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run all tests under the runtime-core package")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" runtime-core\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run tests in a specific file")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" fileName\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run a specific test in a specific file")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" fileName -t "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'test name'")]),e._v("\n")])])]),a("h2",{attrs:{id:"project-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#project-structure"}},[e._v("#")]),e._v(" Project Structure")]),e._v(" "),a("p",[e._v("This repository employs a "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Monorepo",target:"_blank",rel:"noopener noreferrer"}},[e._v("monorepo"),a("OutboundLink")],1),e._v(" setup which hosts a number of associated packages under the "),a("code",[e._v("packages")]),e._v(" directory:")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("reactivity")]),e._v(": The reactivity system. It can be used standalone as a framework-agnostic package.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("runtime-core")]),e._v(": The platform-agnostic runtime core. Includes code for the virtual dom renderer, component implementation and JavaScript APIs. Higher-order runtimes (i.e. custom renderers) targeting specific platforms can be created using this package.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("runtime-dom")]),e._v(": The runtime targeting the browser. Includes handling of native DOM API, attributes, properties, event handlers etc.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("runtime-test")]),e._v(': The lightweight runtime for testing. Can be used in any JavaScript environment since it "renders" a tree of plain JavaScript objects. The tree can be used to assert correct render output. Also provides utilities for serializing the tree, triggering events, and recording actual node operations performed during an update.')])]),e._v(" "),a("li",[a("p",[a("code",[e._v("server-renderer")]),e._v(": Package for server-side rendering.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("compiler-core")]),e._v(": The platform-agnostic compiler core. Includes the extensible base of the compiler and all platform-agnostic plugins.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("compiler-dom")]),e._v(": Compiler with additional plugins specifically targeting the browser.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("compiler-ssr")]),e._v(": Compiler that produces render functions optimized for server-side rendering.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("template-explorer")]),e._v(": A development tool for debugging compiler output. You can run "),a("code",[e._v("yarn dev template-explorer")]),e._v(" and open its "),a("code",[e._v("index.html")]),e._v(" to get a repl of template compilation based on current source code.")]),e._v(" "),a("p",[e._v("A "),a("a",{attrs:{href:"https://vue-next-template-explorer.netlify.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("live version"),a("OutboundLink")],1),e._v(" of the template explorer is also available, which can be used for providing reproductions for compiler bugs. You can also pick the deployment for a specific commit from the "),a("a",{attrs:{href:"https://app.netlify.com/sites/vue-next-template-explorer/deploys",target:"_blank",rel:"noopener noreferrer"}},[e._v("deploy logs"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("shared")]),e._v(": Internal utilities shared across multiple packages (especially environment-agnostic utils used by both runtime and compiler packages).")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("vue")]),e._v(': The public facing "full build" which includes both the runtime AND the compiler.')])])]),e._v(" "),a("h3",{attrs:{id:"importing-packages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#importing-packages"}},[e._v("#")]),e._v(" Importing Packages")]),e._v(" "),a("p",[e._v("The packages can import each other directly using their package names. Note that when importing a package, the name listed in its "),a("code",[e._v("package.json")]),e._v(" should be used. Most of the time the "),a("code",[e._v("@vue/")]),e._v(" prefix is needed:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" h "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'@vue/runtime-core'")]),e._v("\n")])])]),a("p",[e._v("This is made possible via several configurations:")]),e._v(" "),a("ul",[a("li",[e._v("For TypeScript, "),a("code",[e._v("compilerOptions.path")]),e._v(" in "),a("code",[e._v("tsconfig.json")])]),e._v(" "),a("li",[e._v("For Jest, "),a("code",[e._v("moduleNameMapper")]),e._v(" in "),a("code",[e._v("jest.config.js")])]),e._v(" "),a("li",[e._v("For plain Node.js, they are linked using "),a("a",{attrs:{href:"https://yarnpkg.com/blog/2017/08/02/introducing-workspaces/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yarn Workspaces"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"package-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-dependencies"}},[e._v("#")]),e._v(" Package Dependencies")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("                                    +---------------------+\n                                    |                     |\n                                    |  @vue/compiler-sfc  |\n                                    |                     |\n                                    +-----+--------+------+\n                                          |        |\n                                          v        v\n                      +---------------------+    +----------------------+\n                      |                     |    |                      |\n        +------------\x3e|  @vue/compiler-dom  +---\x3e|  @vue/compiler-core  |\n        |             |                     |    |                      |\n   +----+----+        +---------------------+    +----------------------+\n   |         |\n   |   vue   |\n   |         |\n   +----+----+        +---------------------+    +----------------------+    +-------------------+\n        |             |                     |    |                      |    |                   |\n        +------------\x3e|  @vue/runtime-dom   +---\x3e|  @vue/runtime-core   +---\x3e|  @vue/reactivity  |\n                      |                     |    |                      |    |                   |\n                      +---------------------+    +----------------------+    +-------------------+\n")])])]),a("p",[e._v("There are some rules to follow when importing across package boundaries:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Never use direct relative paths when importing items from another package - export it in the source package and import it at the package level.")])]),e._v(" "),a("li",[a("p",[e._v("Compiler packages should not import items from the runtime, and vice versa. If something needs to be shared between the compiler-side and runtime-side, it should be extracted into "),a("code",[e._v("@vue/shared")]),e._v(" instead.")])]),e._v(" "),a("li",[a("p",[e._v("If a package (A) has a non-type import from another package (B), package (B) should be listed as a dependency in the "),a("code",[e._v("package.json")]),e._v(" of package (A). This is because the packages are externalized in the ESM-bundler/CJS builds and type declaration files, so the dependency packages must be actually installed as a dependency when consumed from package registries.")])])]),e._v(" "),a("h2",{attrs:{id:"contributing-tests"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contributing-tests"}},[e._v("#")]),e._v(" Contributing Tests")]),e._v(" "),a("p",[e._v("Unit tests are collocated with the code being tested in each package, inside directories named "),a("code",[e._v("__tests__")]),e._v(". Consult the "),a("a",{attrs:{href:"https://jestjs.io/docs/en/using-matchers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jest docs"),a("OutboundLink")],1),e._v(" and existing test cases for how to write new test specs. Here are some additional guidelines:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Use the minimal API needed for a test case. For example, if a test can be written without involving the reactivity system or a component, it should be written so. This limits the test's exposure to changes in unrelated parts and makes it more stable.")])]),e._v(" "),a("li",[a("p",[e._v("If testing platform agnostic behavior or asserting low-level virtual DOM operations, use "),a("code",[e._v("@vue/runtime-test")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Only use platform-specific runtimes if the test is asserting platform-specific behavior.")])])]),e._v(" "),a("h3",{attrs:{id:"testing-type-definition-correctness"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-type-definition-correctness"}},[e._v("#")]),e._v(" Testing Type Definition Correctness")]),e._v(" "),a("p",[e._v("This project uses "),a("a",{attrs:{href:"https://github.com/SamVerschueren/tsd",target:"_blank",rel:"noopener noreferrer"}},[e._v("tsd"),a("OutboundLink")],1),e._v(" to test the built definition files ("),a("code",[e._v("*.d.ts")]),e._v(").")]),e._v(" "),a("p",[e._v("Type tests are located in the "),a("code",[e._v("test-dts")]),e._v(" directory. To run the dts tests, run "),a("code",[e._v("yarn test-dts")]),e._v(". Note that the type test requires all relevant "),a("code",[e._v("*.d.ts")]),e._v(" files to be built first (and the script does it for you). Once the "),a("code",[e._v("d.ts")]),e._v(" files are built and up-to-date, the tests can be re-run by simply running "),a("code",[e._v("./node_modules/.bin/tsd")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"financial-contribution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#financial-contribution"}},[e._v("#")]),e._v(" Financial Contribution")]),e._v(" "),a("p",[e._v("As a pure community-driven project without major corporate backing, we also welcome financial contributions via Patreon and OpenCollective.")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.patreon.com/evanyou",target:"_blank",rel:"noopener noreferrer"}},[e._v("Become a backer or sponsor on Patreon"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://opencollective.com/vuejs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Become a backer or sponsor on OpenCollective"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"what-s-the-difference-between-patreon-and-opencollective-funding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-s-the-difference-between-patreon-and-opencollective-funding"}},[e._v("#")]),e._v(" What's the difference between Patreon and OpenCollective funding?")]),e._v(" "),a("p",[e._v("Funds donated via Patreon go directly to support Evan You's full-time work on Vue.js. Funds donated via OpenCollective are managed with transparent expenses and will be used for compensating work and expenses for core team members or sponsoring community events. Your name/logo will receive proper recognition and exposure by donating on either platform.")]),e._v(" "),a("h2",{attrs:{id:"credits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#credits"}},[e._v("#")]),e._v(" Credits")]),e._v(" "),a("p",[e._v("Thank you to all the people who have already contributed to Vue.js!")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vuejs/vue/graphs/contributors"}},[a("img",{attrs:{src:"https://opencollective.com/vuejs/contributors.svg?width=890"}})])])])}),[],!1,null,null,null);t.default=s.exports}}]);