(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{570:function(t,a,s){"use strict";s.r(a);var r=s(43),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"https-流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https-流程"}},[t._v("#")]),t._v(" HTTPS 流程")]),t._v(" "),s("h2",{attrs:{id:"客户端发起-https-请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端发起-https-请求"}},[t._v("#")]),t._v(" 客户端发起 HTTPS 请求")]),t._v(" "),s("p",[t._v("这个没什么好说的，就是用户在浏览器里输入一个 https 网址，然后连接到 server 的 443 端口。")]),t._v(" "),s("h2",{attrs:{id:"服务端的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端的配置"}},[t._v("#")]),t._v(" 服务端的配置")]),t._v(" "),s("p",[t._v("采用 HTTPS 协议的服务器必须要有一套数字证书，可以自己制作，也可以向组织申请，区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹出提示页面(startssl 就是个不错的选择，有 1 年的免费服务)。")]),t._v(" "),s("p",[t._v("这套证书其实就是一对公钥和私钥，如果对公钥和私钥不太理解，可以想象成一把钥匙和一个锁头，只是全世界只有你一个人有这把钥匙，你可以把锁头给别人，别人可以用这个锁把重要的东西锁起来，然后发给你，因为只有你一个人有这把钥匙，所以只有你才能看到被这把锁锁起来的东西。")]),t._v(" "),s("p",[t._v("这套证书其实就是一对公钥和私钥")]),t._v(" "),s("h2",{attrs:{id:"传送证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传送证书"}},[t._v("#")]),t._v(" 传送证书")]),t._v(" "),s("p",[t._v("这部分工作是有客户端的 TLS 来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。")]),t._v(" "),s("p",[t._v("如果证书没有问题，那么就生成一个随机值，然后用证书对该随机值进行加密，就好像上面说的，把随机值用锁头锁起来，这样除非有钥匙，不然看不到被锁住的内容。")]),t._v(" "),s("h2",{attrs:{id:"传送加密信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传送加密信息"}},[t._v("#")]),t._v(" 传送加密信息")]),t._v(" "),s("p",[t._v("客户端用之前生成的私钥解密服务段传过来的信息，于是获取了解密后的内容，整个过程第三方即使监听到了数据，也束手无策。")]),t._v(" "),s("h2",{attrs:{id:"服务段解密信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务段解密信息"}},[t._v("#")]),t._v(" 服务段解密信息")]),t._v(" "),s("p",[t._v("服务端用私钥解密后，得到了客户端传过来的随机值(私钥)，然后把内容通过该值进行对称加密，所谓对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务端都知道这个私钥，所以只要加密算法够彪悍，私钥够复杂，数据就够安全。")]),t._v(" "),s("h2",{attrs:{id:"传输加密后的信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传输加密后的信息"}},[t._v("#")]),t._v(" 传输加密后的信息")]),t._v(" "),s("p",[t._v("这部分信息是服务段用私钥加密后的信息，可以在客户端被还原。")]),t._v(" "),s("h2",{attrs:{id:"links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[t._v("#")]),t._v(" links")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.im/entry/58d7635e5c497d0057fae036",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细解析 HTTP 与 HTTPS 的区别"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);