(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{586:function(a,n,t){"use strict";t.r(n);var e=t(43),s=Object(e.a)({},(function(){var a=this,n=a.$createElement,t=a._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"lerna"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lerna"}},[a._v("#")]),a._v(" lerna")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# remove the node_modules directory from all packages")]),a._v("\n$ lerna clean\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# publish packages in the current project")]),a._v("\n$ lerna publish\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# bump version of package changed since the last release")]),a._v("\n$ lerna version\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# link local packages together and install remaining package dependencies")]),a._v("\n$ lerna bootstrap\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# list local packages")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# list local packages that have changed since the last tagged release")]),a._v("\n$ lerna changed\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# diff all packages or a single package since the last release")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("diff")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# execute an arbitary command in each package")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -- "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("command"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -- "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf ./node_modules\n$ lerna "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -- protractor conf.js\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# run an npm script in each package that contains that script")]),a._v("\n$ lerna run "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" -- "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n$ lerna run "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n$ lerna run build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# crate a new lerna repo or upgrade an existing repo to the current version of lerna")]),a._v("\n$ lerna init\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# add a dependency to matched packages")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("package"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("@version"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--exact"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("--peer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# remove the node_modules directory from all packages")]),a._v("\n$ lerna clean\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# import a package into the monorepo with commit history")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("path-to-repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# symlink togather all packages that are dependencies of each other")]),a._v("\n$ lerna "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("link")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# create new lerna-managed package")]),a._v("\n$ lerna create "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("loc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# print local environment information")]),a._v("\n$ lerna info\n")])])]),t("h2",{attrs:{id:"links"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[a._v("#")]),a._v(" links")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/lerna/lerna",target:"_blank",rel:"noopener noreferrer"}},[a._v("lerna/lerna"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/schneidmaster/lerna-rollup-watch/blob/master/package.json",target:"_blank",rel:"noopener noreferrer"}},[a._v("schneidmaster/lerna-rollup-watch"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=s.exports}}]);