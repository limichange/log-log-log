# for of 的原理解析

这里的所有数据结构只指具有 iterator 接口的数据。一个数据只要部署了 Symbol.iterator，就具有了 iterator 接口，就可以使用 for...of 循环遍历它的成员。也就是说，for...of 循环内部调用的数据结构为 Symbol.iterator 方法。

## 为什么引入 Iterator

遍历器（Iterator）就是这样一种机制。它是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 Iterator 接口，就可以完成遍历操作（即依次处理该数据结构的所有成员）。通俗点理解就是为了解决不同数据结构遍历的问题，引入了 Iterator.

对象（Object）之所以没有默认部署 Iterator 接口，是因为对象的哪个属性先遍历，哪个属性后遍历是不确定的，需要开发者手动指定。本质上，遍历器是一种线性处理，对于任何非线性的数据结构，部署遍历器接口，就等于部署一种线性转换。不过，严格地说，对象部署遍历器接口并不是很必要，因为这时对象实际上被当作 Map 结构使用，ES5 没有 Map 结构，而 ES6 原生提供了。

## links

- [for of 的原理解析](https://segmentfault.com/a/1190000021928563)
